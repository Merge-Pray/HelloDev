/* src/app.layout.module.css */
.appLayout {
  --bg: var(--color-bg);
  --panel: var(--color-bg-secondary);
  --border: var(--color-border);

  /* Breitenvariablen */
  --nav-wide: 240px;
  --nav-narrow: 76px;   /* Icon-Only-Menü */

  display: grid;
  max-width: 1200px;
  margin: 0 auto;
  grid-template-columns: var(--nav-wide) 1fr; /* menu | content */
  gap: 24px;
  min-height: 100vh;
  background: var(--bg);
  color: var(--color-text);
  box-sizing: border-box;
}

/* Bereiche */
.navigation {
  border-right: 1px solid var(--border);
  min-width: 0;              /* verhindert Aufdrücken */
  overflow: hidden;          /* falls Kinder breiter sind */
  display: flex;
  flex-direction: column;
  gap: 8px;

  /* —— Container Query aktivieren —— */
  container-type: inline-size;   /* reagiert auf Breite der linken Spalte */
  container-name: nav;
}

.content {
  min-width: 0;
  display: flex;
  flex-direction: column;
}

/* typische Menü-Items (optional, wenn du so eine Struktur nutzt) */
.navItem {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;             /* wichtig für Truncation */
  white-space: nowrap;
}
.navLabel {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ---------- Container Query: Linkes Menü wird icon-only, wenn die Spalte wirklich schmal ist ---------- */
/* Greift, sobald .navigation (der Container) <= 120px breit ist */
@container nav (max-width: 120px) {
  /* Wir nutzen globale Attribute, damit es auch durch CSS-Module-Grenzen wirkt */
  :global([data-nav-label]) { display: none; }
  .navItem { justify-content: center; }
}

/* ---------- Breakpoints ---------- */

/* < 1200px: Menü schmal */
@media (max-width: 1200px) {
  .appLayout {
    grid-template-columns: var(--nav-narrow) 1fr;
    gap: 24px; /* gleicher Gap wie Desktop */
  }
  .navigation :global([data-nav-label]) { display: none; }
  .navigation :global([data-nav-icon])  { margin: 0 auto; }
}

/* < 900px: Menü bleibt schmal */
@media (max-width: 900px) {
  .appLayout {
    grid-template-columns: var(--nav-narrow) 1fr;
    gap: 24px; /* gleicher Gap wie Desktop */
  }
}

/* < 520px: etwas kompakter */
@media (max-width: 520px) {
  .appLayout { gap: 24px; } /* gleicher Gap wie Desktop */
  .content { padding: 12px; }
}
